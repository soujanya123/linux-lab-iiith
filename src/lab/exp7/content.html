<!-- This file needs to be edited by the lab developer to suit
the requirements of their lab in particular.-->

<!-- Add class="default" to include any element as it is
specified in default.html. 
Do not include class="default" to the elements that you want to
edit -->

<!DOCTYPE html>
<html>
<head></head>
<body>

<div id="experiment"> <!-- The Experiment Document Container-->

<!-- The lab Header contains the logo and the name of the lab,
	usually displayed on the top of the page-->

	<header id="experiment-header" >

	<div id="experiment-header-logo" class="logo">
	<!-- Enclose the logo image of your lab or write it in 
	text-->
	<img src="../images/logo.jpg" />
	</div>

	<div id="experiment-header-heading" class="heading">
	<!-- Write the name of your lab and link it to the home 
	page of your lab (h1 tag is preferred while writing your 
			lab name)-->
	<a href="../index.html">Linux Lab</a>	
	</div>

	<!-- Add any additional element you want to add to the lab 
	header, For example : Help (Enclosing them with suitable 
			div is recommended)-->

	</header>


	<!-- The lab article is the main content area where all the 
	experiment content sits-->
	<article id="experiment-article">

	<!-- The lab article has an header, optional navigational 
	menu, number of sections, an optional sidebar and a closing 
	footer-->
	<div id="experiment-article-breadcrumb">
	</div>
	<header id="experiment-article-heading" class="heading">
	<!-- You can add a welcome message or title of the 
	experiment here -->
	  7. Pipes and Redirection
	<!-- Add any additional element if required with proper 
	enclosing-->
	</header>

	<!-- Navigation menu is useful to organize the view of 
	multiple sections inside the article-->
	<nav id="experiment-article-navigation" class="default">
	<ul id="experiment-article-navigation-menu">
	<!-- The menu can be dynamically generated to contain 
	the headings of your sections or instead write the 
	menu items of your choice individually enclosedu in 
	<li> tag as shown below-->
	</ul>
	</nav>

	<!-- All the sections of your lab or experiment can be 
	enclosed together with a div element as shown below-->
	<div id="experiment-article-sections">

	<!-- First section of the article-->
	<section id="experiment-article-section-1">

	<div id="experiment-article-section-1-icon" class="icon">
	<!-- Enclose the icon image of your lab -->
	<img src="../images/introduction.jpg" />
	</div>	

	<!-- The heading for the section can be enclosed in a 
	div tag. -->
	<div id="experiment-article-section-1-heading" 
	class="heading">
	Introduction
	</div>
	<!-- Write the section content inside a paragraph 
	element, You can also include images with <img> tag -->
	<div id="experiment-article-section-1-content" class="content">	
	<p>
	Linux shell provides a number of commands that are focussed towards a specific and simple task. In practical applications, it is often required to perform complex tasks that involve multiple commands, with the output of one command being used as input in the execution of another command. In other words, one may need to manipulate the input and output of these commands. For this purpose, Linux shell provides Pipes and Redirection operators.
	 
	</p>

	</div>


	</section>


	<section id="experiment-article-section-2">

	<div id="experiment-article-section-2-icon" class="icon">
	<!-- Enclose the icon image of your lab. -->
	<img src="../images/objective.jpg" />
	</div>

	<!-- The heading for the section can be enclosed in a 
	div tag. -->
	<div id="experiment-article-section-2-heading" class="heading">
	Objective
	</div>


	<!-- Write the section content inside a paragraph 
	element, we can also include images with <img> tag -->
	<div id="experiment-article-section-2-content" class="content">
	<p>
The objective of this experiment is to learn how to execute multiple commands together and manipulating the input and output of these commands. At the end of this experiment, one should be comfortable with using pipes and redirection.
</p>
	</div>
	</section>


	<!-- Second section of the article-->
	<section id="experiment-article-section-3">

	<div id="experiment-article-section-3-icon" class="icon">
	<!-- Enclose the icon image of your lab. -->
	<img src="../images/theory.jpg" />
	</div>

	<!-- The heading for the section can be enclosed in a 
	div tag. -->
	<div id="experiment-article-section-3-heading" class="heading">
	Theory
	</div>


	<!-- Write the section content inside a paragraph 
	element, we can also include images with <img> tag -->
	<div id="experiment-article-section-3-content" class="content">
	<h3>Standard Input, Standard Output, Standard Error</h3>
	<p>There are three important concepts you should know about: standard input, standard output and standard error.</p>
	<p><b>Standard input</b> (stdin) is the standard input stream. Normally, the standard input stream is the keyboard. The standard input is <i>file descriptor</i> 0.</p>
	<p><b>Standard Output</b> (stdout) is the standard output stram. Normally, it is the terminal from which the program was run. The standard output is <i>file descriptor</i> 1.</p>
	<p><b>Standard Error</b> (stderr) is the standard error stream. It is independent of standard output. The default standard error stream is the terminal from which the program was run. The standard error is <i>file descriptor</i> 2.</p>
	<p><i>File descriptors</i> are a low-level Linux abstraction. Details of this are not required for this experiment. You can simply consider file descriptor 0, file descriptor 1 and file descriptor 2 as different classifications of the input stream, the output stream and the error stream by the system.</p>
	<h3>Pipes and Redirection</h3>
	<p>It is often convenient to take input from locations other than the default streams, such as a file or the output of another command. Pipes and redirections are operators which are used to redirect the input and output of commands to another location. 
Some commonly used pipes and redirects are: &gt;, &gt;&gt;, &lt;, |, 2> and $().
	</p>
	<h3>&gt; Redirection</h3>
	<p>
	<b>&gt</b> prints the output from the command to the specified file. If the file already exists, it is overwritten.
	</p>
	<pre class="code">
aditi@mylaptop$ ls
example.txt  all_about_console.txt my_project
aditi@mylaptop$ ls > out.txt
aditi@mylaptop$ cat out.txt
example.txt  all_about_console.txt my_project
	</pre>
	<h3>&gt;&gt; Redirection</h3>
	<p>
	<b>&gt&gt</b> appends the output from the command to the specified file.
	</p>
	<pre class="code">
aditi@mylaptop$ ls >> out.txt
text appended at end
aditi@mylaptop$ cat out.txt
example.txt  all_about_console.txt my_project
example.txt  all_about_console.txt my_project
	</pre>
	<h3>&lt; Redirection</h3>
	<p>
	<b>&lt</b> reads the command input from the specified file.
	</p>
	<pre class="code">
aditi@mylaptop$ cat f1.txt
d
a
c
b
e
aditi@mylaptop$ sort &lt; f1.txt
a
b
c
d
e
</pre>
<p><b>sort</b> command is run on the contents of 'f1.txt' and the sorted output is printed to stdout.</p>
<pre class="code">
aditi@mylaptop$ sort &lt; f1.txt &gt; f1_sort.txt
aditi@mylaptop$ cat f1_sort.txt
a
b
c
d
e
</pre>
	<p>Here the sorted output of 'f1.txt' is printed in 'f1_sort.txt'.</p>
	
	<h3>2&gt; Redirection</h3>
	<p><b>2></b> passes the error output from the command to the specified file. Here, 2 is a reference to the <i>file descriptor</i> of the error stream. When redirecting the output stream, file descriptor 1 is assumed by default and so there is no need to specify the file descriptor number for stdout. </p>
	<pre class="code">
aditi@mylaptop$ mkdir /x 2> err.txt
aditi@mylaptop$ cat err.txt
mkdir: cannot create directory `/x': Permission denied
aditi@mylaptop$ cat f1.txt 2> out.txt
d
a
c
b
e
aditi@mylaptop$ cat out.txt
aditi@mylaptop$ 
	</pre>
	<h3>Pipe</h3>
	<p>
	<b>|</b> passes the output from the command on the left side of the pipe as input to the command on the right side of the pipe.
	</p>
	<pre class="code">
aditi@mylaptop$ ps aux | more
	</pre>
	<p>
	All the commands running on the system are displayed one screen at a time.
	</p>
	<pre class="code">
aditi@mylaptop$ cat f1.txt
d
a
c
b
e
aditi@mylaptop$ cat f1.txt | sort
a
b
c
d
e
</pre>
	<p>Prints the sorted contents of 'f1.txt'.</p>

	</pre>	
	<h3>$() redirection</h3>
	<p>
	<b>$()</b> returns the output of the command, instead of writing it to stdout. Useful for passing it as the parameter of another command. 
	</p>
	<pre class="code">
aditi@mylaptop$ touch $(ls *.c)
	</pre>
	<p>Updates timestamp on all .c files in current folder</p>
	<pre class="code">
aditi@mylaptop$ wc $(ls *.txt)
	</pre>
	<p>Displays number of characters, words and lines in all text files in current folder.</p>
	<pre class="code">
aditi@mylaptop$ chmod 755 $(ls *.org)
	</pre>
	<p>Changes permissions of all .org files in current folder to 755.</p>
	<pre class="code">
aditi@mylaptop$ head -n 5 $(ls *.c)
	</pre>
	<p>Displays the first five lines (typically include statements) of all C files in current folder.</p>
	<pre class="code">
aditi@mylaptop$ tar cf "$(date +'%Y-%m-%d %H%M').tar" imp
aditi@mylaptop$ ls
example.txt  all_about_console.txt my_project imp 2012-12-31 1142.tar
	</pre>
	<p>Take backup of 'imp' folder in a tar file, where name of tar file reflects current date and time.</p>
	
        </div>
      </section>






      <section id="experiment-article-section-5">
	<div id="experiment-article-section-5-icon" 
	     class="icon">
	  <!-- Enclose the icon image of your lab.-->
	  <img src="../images/simulation.jpg" />
	</div>
	
	<div id="experiment-article-section-5-heading" 
	     class="heading">
	  Tasks
	</div>
	
	<div id="experiment-article-section-5-content" 
	     class="content">
	  <p style="margin-left:0px">
	    Students who already have a Virtual-Labs login should click
	    <a href="javascript:void(0)"
	       onclick="window.open('interaction-frame.html',
			'welcome', width=screen.availWidth, height=screen.availHeight,status='yes')">
	      here</a> 
	    to see the list of tasks for this experiment. <br /> 
	    In case the login credentials are not available, then please click 
	    <a href="../php/register-form.php">here</a> to
	    register.
	  </p>
        </div> 
      </section>



        <section id="experiment-article-section-6">
      
          <div id="experiment-article-section-6-icon" 
          class="icon">
	    <!-- Enclose the icon image of your lab.-->
	    <img src="../images/quizzes.jpg" />
	  </div>

          <div id="experiment-article-section-6-heading" 
          class="heading">
            Quiz
          </div>

          <div id="experiment-article-section-6-content" 
          class="content">
	<h3>Multiple Choice Questions</h3>
	<ol>
	<li>The 'less ls -l' command:
		<ol type='A'>
			<li>Displays the output of 'ls -l' in less.</li>
			<li>Tries to print the file named 'ls' in less.</li>
			<li>Produces an error, as a redirection operator should be used to combine the two commands.</li>
			<li>None of the above.</li>
		</ol>
		</li>
	<li>'sort &lt; f1.txt &gt; f2.txt' command
		<ol type='A'>
			<li>Sorts the contents of f2.txt and prints the output to f1.txt.</li>
			<li>Sorts the contents of f1.txt and prints the output to f2.txt.</li>
			<li>Is an invalid operation.</li>
			<li>None of the above.</li>
		</ol></li>
	<li>'ls -l > output.txt' command
		<ol type='A'>
			<li>Creates a new file 'output.txt'and prints the output of the 'ls -l' in the file.</li>
			<li>Appends the output of the 'ls -l' command to the file 'output.txt'.</li>
			<li>Produces an error if the file 'output.txt' does not exist.</li>
			<li>None of the above.</li>
		</ol></li>
	<li>'ls -l >> output.txt' command:
	<ol type='A'>
			<li>Creates a new file 'output.txt'and prints the output of the 'ls -l' in the file.</li>
			<li>Appends the output of the 'ls -l' command to the file 'output.txt'.</li>
			<li>Produces an error if the file 'output.txt' does not exist.</li>
			<li>None of the above.</li>
		</ol></li>
	<li>'ps aux | head -n 5' command:
		<ol type="A">
			<li>Prints the first 5 lines of the output of the 'ps aux' command.</li>
			<li>Executes the 'ps aux' command, followed by the 'head -n 5' command.</li>
			<li>Produces an error.</li>
			<li>None of the above.</li>
		</ol></li>
	<li>$(ls) command:
		<ol type="A">
			<li>Lists the contents of the current working directory.</li>
			<li>Returns the output of the 'ls' command.</li>
			<li>Tries to execute all the existing files and folders in the current working directory.</li>
			<li>Is an invalid operation.</li>
		</ol>
	</ol>

          </div>

        </section>

        <section id="experiment-article-section-8">
   
          <div id="experiment-article-section-8-icon" 
          class="icon">
	    <!-- Enclose the icon image of your lab.-->
	    <img src="../images/readings.jpg" />
	  </div>

          <div id="experiment-article-section-8-heading" 
          class="heading">
            Further Readings
          </div>

          <div id="experiment-article-section-8-content" 
          class="content">
	<p>For further information on pipes and redirections, please check the following links:
	 <ul>
		<li>The wiki page on <a href="http://en.wikipedia.org/wiki/Redirection_%28computing%29">Pipes and Redirection</a> contains a good description.</li>
		<li>Another webpage with lots of examples on pipes and redirections is <a href="http://en.wikibooks.org/wiki/LPI_Linux_Certification/Use_Streams,_Pipes_And_Redirects">http://en.wikibooks.org/wiki/LPI_Linux_Certification/Use_Streams,_Pipes_And_Redirects</a>.
	
</ul>
          </div>

        </section>

    <section id="experiment-article-section-9">

          <div id="experiment-article-section-9-icon" 
          class="icon">
            <!-- Enclose the icon image of your lab.-->
            <img src="../images/readings.jpg" />
          </div>

          <div id="experiment-article-section-9-heading" 
          class="heading">
	
	Feedback
          </div>

          <div id="experiment-article-section-9-content" 
          class="content">
	Please provide us feedback <a href="http://virtual-labs.ac.in/feedback/" >here</a>
          </div>

        </section>
	
        

      </div>


    <!-- An article can have a sidebar that contain related 
    links and additional material (however it is kept optional 
    at this moment) -->
    <aside id="lab-article-sidebar" class="default">
      <!-- put the content that you want to appear in the 
      sidebar -->	
    </aside>


    <!-- Article footer can display related content and 
    additional links -->						
    <footer id="lab-article-footer" class="default">
      <!-- Put the content that you want to appear here -->
    </footer>

  </article>


  <!-- Links to other labs, about us page can be kept the lab 
  footer-->
   <footer id="lab-footer" class="footer">
    <!-- Put the content here-->
	<a href="http://virtual-labs.ac.in/nmeict/" >Sponsered by MHRD (NME-ICT) </a> | <a href="http://virtual-labs.ac.in/licensing/" target="_blank"> Licensing Terms </a>
  </footer>
</div>		

</body>
</html>
